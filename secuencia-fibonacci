import unittest


def fibonacci(position):
    
    '''
    Calcula el número de fibonacci a partir de una posición
    la secuencia comienza desde la posición 1:
    1 -> 0
    2 -> 1
    '''
    if position <= 0:
        raise ValueError("la posicion tiene que ser un entero positivo")

    if position == 1:
        return 0

    if position == 2:
        return 1

    previous = 0
    current = 1

    for _ in range(3, position + 1):
        previous, current = current, previous + current

    return current


class Test(unittest.TestCase):

    def test_fibonacci_position_9(self):

        '''
       Comprueba que el noveno número de la cadena fibonacci 
       corresponde con el número 21.
        '''
        expected_result = 21
        result = fibonacci(9)
        self.assertEqual(result, expected_result)


if __name__ == "__main__":
    unittest.main()
